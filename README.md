# AI æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿ - LangGraph å¤šåŠŸèƒ½å¹³å°

åŸºäº LangGraph å’Œ Vue3 çš„æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿï¼Œæ•´åˆ**å®¢æœæ”¯æŒ**å’Œ**æ—…æ¸¸è§„åˆ’**ä¸¤å¤§AIåŠŸèƒ½æ¨¡å—ã€‚

## âœ¨ åŠŸèƒ½æ¨¡å—

### ğŸ¤– å®¢æœæ”¯æŒ Agent
- **æ™ºèƒ½åˆ†ç±»**: è‡ªåŠ¨å°†æŸ¥è¯¢åˆ†ç±»ä¸ºæŠ€æœ¯æ”¯æŒã€è´¦å•æŸ¥è¯¢æˆ–å¸¸è§„å’¨è¯¢
- **æƒ…æ„Ÿåˆ†æ**: åˆ†æç”¨æˆ·æƒ…ç»ªï¼ˆç§¯æã€ä¸­æ€§ã€æ¶ˆæï¼‰
- **æ™ºèƒ½è·¯ç”±**: æ ¹æ®åˆ†ç±»å’Œæƒ…æ„Ÿå°†æŸ¥è¯¢è·¯ç”±åˆ°åˆé€‚çš„å¤„ç†å™¨
- **è‡ªåŠ¨å‡çº§**: æ¶ˆææƒ…ç»ªçš„æŸ¥è¯¢è‡ªåŠ¨å‡çº§åˆ°äººå·¥å®¢æœ
- **å®æ—¶å¯¹è¯**: ç°ä»£åŒ–çš„èŠå¤©ç•Œé¢

### âœˆï¸ æ—…æ¸¸è§„åˆ’ Agent
- **ç›®çš„åœ°è§„åˆ’**: è¾“å…¥ä»»æ„åŸå¸‚ï¼Œç”Ÿæˆå®šåˆ¶åŒ–æ—…æ¸¸è¡Œç¨‹
- **å…´è¶£åŒ¹é…**: åŸºäºç”¨æˆ·å…´è¶£ï¼ˆç¾é£Ÿã€å†å²ã€è‰ºæœ¯ç­‰ï¼‰ä¸ªæ€§åŒ–æ¨è
- **è¯¦ç»†è¡Œç¨‹**: æä¾›æ—¶é—´å®‰æ’ã€æ™¯ç‚¹æ¨èã€é¤é¥®å»ºè®®
- **è¡Œç¨‹åˆ†äº«**: æ”¯æŒå¤åˆ¶å’Œåˆ†äº«ç”Ÿæˆçš„æ—…æ¸¸è®¡åˆ’

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ backend/                          # FastAPI åç«¯
â”‚   â”œâ”€â”€ main.py                      # API ä¸»æœåŠ¡å™¨
â”‚   â”œâ”€â”€ travel_planner_api.py        # æ—…æ¸¸è§„åˆ’ API é€‚é…å™¨
â”‚   â””â”€â”€ requirements.txt             # åç«¯ä¾èµ–
â”œâ”€â”€ frontend/                        # Vue3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerSupport.vue # å®¢æœæ”¯æŒç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ TravelPlanner.vue   # æ—…æ¸¸è§„åˆ’ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.vue                 # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.js                 # å…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ style.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ customer_support_agent_langgraph.py  # å®¢æœ LangGraph Agent
â”œâ”€â”€ simple_travel_planner_langgraph.py   # æ—…æ¸¸è§„åˆ’ LangGraph Agent
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Python 3.8+
- Node.js 16+
- OpenAI API Key æˆ–å…¼å®¹çš„ LLM API

### 1. å®‰è£…åç«¯ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
pip install -r backend/requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
OPENAI_API_KEY=your_api_key_here
OPENAI_API_BASE=your_api_base_url  # å¦‚æœä½¿ç”¨è‡ªå®šä¹‰ç«¯ç‚¹ï¼ˆå¦‚ Qwenï¼‰
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
python main.py
# æˆ–è€…ä½¿ç”¨ uvicorn
uvicorn main:api --reload --port 8000
```

åç«¯å°†è¿è¡Œåœ¨ http://localhost:8000

### 4. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

### 5. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å‰ç«¯å°†è¿è¡Œåœ¨ http://localhost:5173

## ğŸ“¡ API ç«¯ç‚¹

### é€šç”¨ç«¯ç‚¹
| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/` | GET | å¥åº·æ£€æŸ¥ |
| `/health` | GET | æœåŠ¡çŠ¶æ€ |

### å®¢æœæ”¯æŒ API
| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/chat` | POST | å¤„ç†å®¢æˆ·æŸ¥è¯¢ |
| `/api/categories` | GET | è·å–å¯ç”¨åˆ†ç±» |

#### å®¢æœæŸ¥è¯¢è¯·æ±‚ç¤ºä¾‹

```bash
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"query": "æˆ‘çš„ç½‘ç»œè¿æ¥ä¸ç¨³å®š"}'
```

#### å®¢æœæŸ¥è¯¢å“åº”ç¤ºä¾‹

```json
{
  "query": "æˆ‘çš„ç½‘ç»œè¿æ¥ä¸ç¨³å®š",
  "category": "Technical",
  "sentiment": "Neutral",
  "response": "éå¸¸æŠ±æ­‰æ‚¨é‡åˆ°äº†ç½‘ç»œè¿æ¥é—®é¢˜...",
  "status": "success"
}
```

### æ—…æ¸¸è§„åˆ’ API
| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/travel/plan` | POST | ç”Ÿæˆæ—…æ¸¸è¡Œç¨‹ |
| `/api/travel/interests` | GET | è·å–çƒ­é—¨å…´è¶£æ ‡ç­¾ |

#### æ—…æ¸¸è§„åˆ’è¯·æ±‚ç¤ºä¾‹

```bash
curl -X POST http://localhost:8000/api/travel/plan \
  -H "Content-Type: application/json" \
  -d '{
    "city": "ä¸œäº¬",
    "interests": ["ç¾é£Ÿ", "æ–‡åŒ–", "è´­ç‰©"]
  }'
```

#### æ—…æ¸¸è§„åˆ’å“åº”ç¤ºä¾‹

```json
{
  "city": "ä¸œäº¬",
  "interests": ["ç¾é£Ÿ", "æ–‡åŒ–", "è´­ç‰©"],
  "itinerary": "**ä¸œäº¬ä¸€æ—¥æ¸¸è¡Œç¨‹**\n\n**ä¸Šåˆ (9:00-12:00)**\n- æµ…è‰å¯ºå‚è§‚...",
  "status": "success"
}
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI**: é«˜æ€§èƒ½ Python Web æ¡†æ¶
- **LangGraph**: æ„å»º AI Agent çš„çŠ¶æ€å›¾æ¡†æ¶
- **LangChain**: LLM åº”ç”¨å¼€å‘æ¡†æ¶
- **OpenAI/Qwen**: å¤§è¯­è¨€æ¨¡å‹æ”¯æŒ

### å‰ç«¯
- **Vue 3**: æ¸è¿›å¼ JavaScript æ¡†æ¶ï¼ˆComposition APIï¼‰
- **Vite**: ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- **Axios**: HTTP å®¢æˆ·ç«¯

## ğŸ“Š å·¥ä½œæµç¨‹

### å®¢æœæ”¯æŒå·¥ä½œæµ

```
ç”¨æˆ·æŸ¥è¯¢ â†’ åˆ†ç±» â†’ æƒ…æ„Ÿåˆ†æ â†’ è·¯ç”±å†³ç­–
                                    â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“               â†“               â†“
              æŠ€æœ¯æ”¯æŒå¤„ç†     è´¦å•æŸ¥è¯¢å¤„ç†     å¸¸è§„å’¨è¯¢å¤„ç†
                    â†“               â†“               â†“
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
                               è¿”å›å“åº”

å¦‚æœæƒ…æ„Ÿä¸ºæ¶ˆæ â†’ å‡çº§åˆ°äººå·¥å®¢æœ
```

### æ—…æ¸¸è§„åˆ’å·¥ä½œæµ

```
ç”¨æˆ·è¾“å…¥ (åŸå¸‚ + å…´è¶£) â†’ å¤„ç†è¾“å…¥ â†’ ç”Ÿæˆè¡Œç¨‹ â†’ è¿”å›ç»“æœ
                                       â†“
                        åŸºäº LLM çš„ä¸ªæ€§åŒ–æ¨è
                        - æ™¯ç‚¹é€‰æ‹©
                        - æ—¶é—´å®‰æ’
                        - é¤é¥®å»ºè®®
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### å®¢æœæ”¯æŒæ¨¡å—
- å®æ—¶èŠå¤©ç•Œé¢
- æ¶ˆæ¯åˆ†ç±»å’Œæƒ…æ„Ÿæ ‡ç­¾
- æ‰“å­—åŠ¨ç”»æ•ˆæœ
- å“åº”å¼è®¾è®¡

### æ—…æ¸¸è§„åˆ’æ¨¡å—
- ç›´è§‚çš„è¡¨å•ç•Œé¢
- å…´è¶£æ ‡ç­¾é€‰æ‹©å™¨
- è‡ªå®šä¹‰å…´è¶£è¾“å…¥
- ç¾è§‚çš„è¡Œç¨‹å±•ç¤º
- è¡Œç¨‹å¤åˆ¶å’Œåˆ†äº«åŠŸèƒ½

## ğŸ”§ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„å®¢æœæŸ¥è¯¢ç±»åˆ«

1. ä¿®æ”¹ [customer_support_agent_langgraph.py](customer_support_agent_langgraph.py) ä¸­çš„ `categorize` å‡½æ•°
2. æ·»åŠ æ–°çš„å¤„ç†å‡½æ•° (å¦‚ `handle_new_category`)
3. æ›´æ–° `route_query` å‡½æ•°çš„è·¯ç”±é€»è¾‘
4. åœ¨ workflow ä¸­æ·»åŠ æ–°èŠ‚ç‚¹å’Œè¾¹

### æ‰©å±•æ—…æ¸¸è§„åˆ’åŠŸèƒ½

1. ä¿®æ”¹ [backend/travel_planner_api.py](backend/travel_planner_api.py) ä¸­çš„æç¤ºè¯
2. åœ¨ [backend/main.py](backend/main.py) ä¸­æ·»åŠ æ–°çš„å…´è¶£ç±»åˆ«
3. æ›´æ–°å‰ç«¯ [TravelPlanner.vue](frontend/src/components/TravelPlanner.vue) ç»„ä»¶

### è‡ªå®šä¹‰å‰ç«¯ä¸»é¢˜

ä¿®æ”¹ [frontend/src/style.css](frontend/src/style.css) ä¸­çš„ CSS å˜é‡ï¼š

```css
:root {
  --primary-color: #4f46e5;
  --primary-hover: #4338ca;
  /* ... */
}
```

## ğŸ“ License

MIT

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚
